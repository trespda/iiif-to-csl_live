javascript:(function(){const BASE="http://localhost:8000/";const SNIFFER=BASE+"iiif_to_csl_sniffer_0_2_0_dl.js";const BUNDLE=BASE+"iiif_to_csl_browser_1_0_9.bundle.js";function loadScriptOnce(url,g){if(g&&window[g])return Promise.resolve();return new Promise(function(r,j){var e=document.querySelector('script[src="'+url+'"]');if(e&&e.dataset.loaded==="true")return r();var s=document.createElement("script");s.src=url;s.async=true;s.dataset.loaded="false";s.onload=function(){s.dataset.loaded="true";r();};s.onerror=function(){j(new Error("Failed to load "+url));};(document.head||document.documentElement).appendChild(s);});}async function main(){await loadScriptOnce(SNIFFER,"iiifToCslSniffer");await loadScriptOnce(BUNDLE,"iiifToCslBrowser");if(!window.iiifToCslSniffer||!window.iiifToCslBrowser){alert("sniffer or browser missing");return;}try{var r=window.iiifToCslSniffer.sniffConvertAndDownload();if(r&&typeof r.then==="function")r.catch(e=>console.error(e));}catch(e){console.error(e);}}main();})();